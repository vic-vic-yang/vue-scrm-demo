webpackJsonp([13],{"9AOT":function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("yaPy"),o={name:"contentEditorAccount",data:function(){return{action:this.$route.params.id?"modify":"add",groupFrm:{id:this.$route.params.id,nickname:"",username:"",password:"",roles:[]},tabLoading:!0,frmRules:{nickname:[{required:!0,message:"请输入名称"}],username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"}]},signGroupsOptions:[]}},created:function(){var n=this;this.tabLoading=!0,a.a.role.list({pageIndex:100,pageSize:1}).then(function(e){n.signGroupsOptions=e.result,"modify"===n.action&&n.getData(),n.tabLoading=!1}).catch(function(){n.tabLoading=!1})},methods:{getData:function(){var n=this;a.a.account.get(this.$route.params.id).then(function(e){n.groupFrm.nickname=e.nickname,n.groupFrm.username=e.username,n.groupFrm.password=e.password,n.groupFrm.roles=e.roles.map(function(e){for(var r=0;r<n.signGroupsOptions.length;r++)if(n.signGroupsOptions[r].id===e)return n.signGroupsOptions[r].role_name})})},save:function(){var n=this,e={id:this.groupFrm.id,username:this.groupFrm.username,nickname:this.groupFrm.nickname,password:this.groupFrm.password,roles:[]};this.signGroupsOptions.forEach(function(r){for(var a=0;a<n.groupFrm.roles.length;a++)n.groupFrm.roles[a]===r.role_name&&e.roles.push(r.id)}),this.$refs.groupFrm.validate(function(r){r&&("modify"===n.action?a.a.account.edit(e):a.a.account.add(e)).then(function(){n.$router.back()})})}}},t={render:function(){var n=this,e=n.$createElement,r=n._self._c||e;return r("div",{staticClass:"app-container"},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:n.tabLoading,expression:"tabLoading"}],ref:"groupFrm",staticClass:"code-add__frm",attrs:{model:n.groupFrm,rules:n.frmRules,"label-width":"80px"}},[r("el-form-item",{attrs:{prop:"nickname",label:"名称"}},[r("el-input",{attrs:{name:"nickname",clearable:!0,placeholder:"请输入名称"},model:{value:n.groupFrm.nickname,callback:function(e){n.$set(n.groupFrm,"nickname",e)},expression:"groupFrm.nickname"}})],1),n._v(" "),r("el-form-item",{attrs:{prop:"username",label:"账号"}},[r("el-input",{attrs:{name:"username",clearable:!0,placeholder:"请输入账号"},model:{value:n.groupFrm.username,callback:function(e){n.$set(n.groupFrm,"username",e)},expression:"groupFrm.username"}})],1),n._v(" "),r("el-form-item",{attrs:{prop:"add"===n.action?"password":"",label:"密码"}},[r("el-input",{attrs:{type:"password",name:"password",clearable:!0,placeholder:"请输入密码"},model:{value:n.groupFrm.password,callback:function(e){n.$set(n.groupFrm,"password",e)},expression:"groupFrm.password"}})],1),n._v(" "),r("el-form-item",{attrs:{prop:"role",label:"角色配置"}},[r("el-checkbox-group",{staticClass:"requirement",model:{value:n.groupFrm.roles,callback:function(e){n.$set(n.groupFrm,"roles",e)},expression:"groupFrm.roles"}},n._l(n.signGroupsOptions,function(n,e){return r("el-checkbox",{key:e,attrs:{label:n.role_name}})}))],1),n._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),n.save(e)}}},[n._v("保存")]),n._v(" "),r("el-button",{on:{click:function(e){n.$router.back()}}},[n._v("取消")])],1)],1)],1)},staticRenderFns:[]};var s=r("VU/8")(o,t,!1,function(n){r("rpKF")},"data-v-e0e1b590",null);e.default=s.exports},GYw6:function(n,e,r){(n.exports=r("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* .requirement{\r\n  width: 300px;\r\n} */\r\n/* .requirement .el-checkbox{\r\n  margin-left: 0;\r\n} */\r\n",""])},rpKF:function(n,e,r){var a=r("GYw6");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);r("rjj0")("21b4424e",a,!0)}});