webpackJsonp([65],{BdPU:function(n,e,t){var a=t("qsdR");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("f67d745e",a,!0)},P4xW:function(n,e,t){"use strict";var a=t("gyMJ");e.a={list:function(n){return a.a.get("/v1/operation/ads",{params:n}).then(function(n){return n.data})},get:function(n){return a.a.get("/v1/operation/ads/"+n).then(function(n){return n.data})},add:function(n){return a.a.post("/v1/operation/ads/create",n,{autoShowMessage:!0})},edit:function(n){return a.a.put("/v1/operation/ads/"+n.id,n,{autoShowMessage:!0})},del:function(n){return a.a.delete("/v1/operation/ads/"+n.id,{autoShowMessage:!0})}}},UbdQ:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("Dd8w"),i=t.n(a),r=t("YK4W"),s=t("P4xW"),o=t("0xDb"),l=t("M4fF"),u=t.n(l),c={name:"gameList",components:{customElTable:r.a},data:function(){return{tableOptions:[{label:"编号",prop:"id",width:80},{label:"广告标题",prop:"description"},{label:"广告开关",prop:"statusTxt",options:{type:"tag",prop:"status"},width:120},{label:"广告位置",prop:"location"},{label:"广告链接",prop:"link"},{label:"创建时间",prop:"createdAt",sortable:!0,width:105,className:"ph-6"},{prop:"USER_ACTION",actions:["edit","del"]}],tableData:[],pageIndex:1,pageSize:20,totalCount:0,tabLoading:!0,advertListQueryFrm:{description:"",status:-1,time:[]},query:null,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-6048e5),n.$emit("pick",[t,e])}},{text:"最近一个月",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-2592e6),n.$emit("pick",[t,e])}},{text:"最近三个月",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-7776e6),n.$emit("pick",[t,e])}}]},statusOptions:[{value:-1,label:"全部"},{value:1,label:"开"},{value:0,label:"关"}]}},created:function(){this.getData()},methods:{getData:function(){var n=this,e=this.query||{};this.tabLoading=!0,s.a.list(i()({pageIndex:this.pageIndex,pageSize:this.pageSize},e)).then(function(e){n.tableData=(e.result||[]).map(function(n){return i()({},n,{statusTxt:1*n.status==0?"关":"开",location:1*n.location==0?"首页":"答题结束页",createdAt:Object(o.c)(n.createdAt)})}),n.totalCount=1*e.totalCount,n.tabLoading=!1})},searchAdvertList:function(){this.query=u.a.cloneDeep(this.advertListQueryFrm);var n="",e="";if(this.query.time&&2===this.query.time.length){var t=this.query.time;n=Math.floor(t[0]/1e3),e=Math.floor(t[1]/1e3)}this.$set(this.query,"startTime",n),this.$set(this.query,"endTime",e),this.$delete(this.query,"time"),this.pageIndex=1,this.getData()},createAdvert:function(){this.$router.push({name:"advertModify"})},editHandler:function(n){this.$router.push({name:"advertCreate",params:{id:n.id}})},deleteHandler:function(n){var e=this;this.$confirm("确认删除广告 <b>"+n.description+"</b> 吗？","删除",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.a.del(n).then(function(){e.getData()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},sizeChangeHandler:function(n){this.pageSize=n,this.pageIndex=1,this.getData()},pageChangeHandler:function(n){this.pageIndex=n,this.getData()},resetForm:function(n){this.$refs[n].resetFields()}}},d={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"control-group"},[t("el-form",{ref:"advertListQueryFrm",attrs:{inline:!0,model:n.advertListQueryFrm}},[t("el-form-item",{attrs:{prop:"description",label:"广告标题"}},[t("el-input",{attrs:{placeholder:"请输入题目名"},model:{value:n.advertListQueryFrm.description,callback:function(e){n.$set(n.advertListQueryFrm,"description",e)},expression:"advertListQueryFrm.description"}})],1),n._v(" "),t("el-form-item",{attrs:{prop:"status",label:"广告开关"}},[t("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:n.advertListQueryFrm.status,callback:function(e){n.$set(n.advertListQueryFrm,"status",e)},expression:"advertListQueryFrm.status"}},n._l(n.statusOptions,function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),t("el-form-item",{attrs:{prop:"time",label:"创建时间"}},[t("el-date-picker",{attrs:{editable:!1,type:"datetimerange","picker-options":n.pickerOptions,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp",align:"right"},model:{value:n.advertListQueryFrm.time,callback:function(e){n.$set(n.advertListQueryFrm,"time",e)},expression:"advertListQueryFrm.time"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:n.searchAdvertList}},[n._v("查询")]),n._v(" "),t("el-button",{attrs:{icon:"el-icon-search"},on:{click:function(e){n.resetForm("advertListQueryFrm")}}},[n._v("重置")])],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:n.createAdvert}},[t("i",{staticClass:"fs-13 el-icon-plus mr-5"}),n._v("新增\n        ")])],1)],1)],1),n._v(" "),t("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.tabLoading,expression:"tabLoading"}],attrs:{tableData:n.tableData,tableOptions:n.tableOptions,total:n.totalCount},on:{edit:n.editHandler,delete:n.deleteHandler,"size-change":n.sizeChangeHandler,"page-change":n.pageChangeHandler},model:{value:n.pageIndex,callback:function(e){n.pageIndex=e},expression:"pageIndex"}})],1)},staticRenderFns:[]};var p=t("VU/8")(c,d,!1,function(n){t("BdPU")},"data-v-04221632",null);e.default=p.exports},qsdR:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});