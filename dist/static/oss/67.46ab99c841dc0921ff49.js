webpackJsonp([67],{"1vpp":function(t,e,s){var a=s("Jb3j");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("881a88bc",a,!0)},Jb3j:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,'\n.align-center[data-v-f29f547c] {\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.flex-container[data-v-f29f547c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flex-container .input-width120[data-v-f29f547c] {\n    width: 120px;\n}\n.flex-container .config-label[data-v-f29f547c] {\n    display: inline-block;\n    width: 80px;\n    text-align: left;\n    margin-right: 5px;\n}\n.flex-container .mt10[data-v-f29f547c] {\n    margin-top: 10px;\n}\n.flex-container .label[data-v-f29f547c] {\n    width: 150px;\n    margin-right: 10px;\n    display: inline-block;\n    text-align: right;\n    position: relative;\n}\n.flex-container .label.required[data-v-f29f547c]::before {\n    position: absolute;\n    content: "*";\n    color: red;\n    right: 70px;\n    top: 3px;\n}\n',""])},kV8E:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),l=s.n(a),i=s("gyMJ"),n=function(){return i.a.get("/ugc/v1/red-pack/get-config").then(function(t){return t.data})},c=function(t){return i.a.put("/ugc/v1/red-pack/update",t,{autoShowMessage:!0})},o={name:"",props:{},mixins:[],components:{},data:function(){return{form:{status:"",detail:[],vote_success:"",vote_user_day_limit:0,vote_day_limit:0,pull_success:"",pull_user_day_limit:0,pull_day_limit:0}}},created:function(){},mounted:function(){this.getData()},methods:{configAdd:function(){this.form.detail.push({start_range:"",end_range:"",stock:""})},save:function(){var t=this,e={status:this.form.status,detail:l()(this.form.detail),vote_success:this.form.vote_success?1:0,pull_success:this.form.pull_success?1:0,vote_user_day_limit:this.form.vote_user_day_limit,vote_day_limit:this.form.vote_day_limit,pull_user_day_limit:this.form.pull_user_day_limit,pull_day_limit:this.form.pull_day_limit};c(e).then(function(){t.getData()})},getData:function(){var t=this;n().then(function(e){e.status=1*e.status?""+e.status:"2",e.vote_success=1*e.vote_success,e.pull_success=1*e.pull_success,t.form=e,0===t.form.detail.length&&t.configAdd()})},rewardDel:function(t){var e=this;this.$confirm("此操作删除本行奖励配置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.form.detail.splice(t,1),e.$message.success("删除成功,点击保存成效")})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"flex-container"},[s("span",{staticClass:"label required"},[t._v("红包功能:")]),t._v(" "),s("div",[s("el-radio",{attrs:{label:"1"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("开启")]),t._v(" "),s("el-radio",{attrs:{label:"2"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("关闭")])],1)]),t._v(" "),1==t.form.status?s("div",{staticClass:"flex-container mt-20"},[s("span",{staticClass:"label",staticStyle:{"line-height":"2.2"}},[t._v("红包金额配置:")]),t._v(" "),s("div",t._l(t.form.detail,function(e,a){return s("div",{key:a,class:{mt10:0!==a},staticStyle:{display:"flex","align-items":"center"}},[s("span",{staticClass:"config-label"},[t._v("配置"+t._s(a+1)+"：")]),t._v(" "),s("el-input",{staticClass:"input-width120",model:{value:e.start_range,callback:function(s){t.$set(e,"start_range",s)},expression:"item.start_range"}},[s("template",{slot:"append"},[t._v("元")])],2),t._v(" "),s("span",[t._v(" 至 ")]),t._v(" "),s("el-input",{staticClass:"input-width120",staticStyle:{"margin-right":"10px"},model:{value:e.end_range,callback:function(s){t.$set(e,"end_range",s)},expression:"item.end_range"}},[s("template",{slot:"append"},[t._v("元")])],2),t._v(" "),s("el-input",{staticClass:"input-width120",model:{value:e.stock,callback:function(s){t.$set(e,"stock",s)},expression:"item.stock"}},[s("template",{slot:"append"},[t._v("个")])],2),t._v(" "),a===t.form.detail.length-1?s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.configAdd}},[t._v("+添加")]):t._e(),t._v(" "),a>0||0===a&&t.form.detail.length>1?s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(e){t.rewardDel(a)}}},[t._v("删除")]):t._e()],1)}))]):t._e(),t._v(" "),1==t.form.status?s("div",{staticClass:"flex-container mt-20"},[s("span",{staticClass:"label"},[t._v("获取红包配置:")]),t._v(" "),s("div",{staticStyle:{display:"flex","flex-direction":"column"}},[s("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.form.vote_success,callback:function(e){t.$set(t.form,"vote_success",e)},expression:"form.vote_success"}},[t._v("投票成功获得红包")]),t._v(" "),s("el-checkbox",{staticStyle:{"margin-left":"0"},attrs:{"true-label":1,"false-label":0},model:{value:t.form.pull_success,callback:function(e){t.$set(t.form,"pull_success",e)},expression:"form.pull_success"}},[t._v("拉票成功获得红包")])],1)]):t._e(),t._v(" "),1==t.form.status&&t.form.vote_success?s("div",{staticClass:"flex-container mt-20 align-center"},[s("span",{staticClass:"label"},[t._v("每天每人投票获得红包限制:")]),t._v(" "),s("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"每天每用户投票获得红包次数上限，0为不限制",type:"number"},model:{value:t.form.vote_user_day_limit,callback:function(e){t.$set(t.form,"vote_user_day_limit",e)},expression:"form.vote_user_day_limit"}})],1):t._e(),t._v(" "),1==t.form.status&&t.form.vote_success?s("div",{staticClass:"flex-container mt-20 align-center"},[s("span",{staticClass:"label"},[t._v("每天总体投票获得红包限制:")]),t._v(" "),s("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"每天全部用户投票获得红包次数上限，0为不限制",type:"number"},model:{value:t.form.vote_day_limit,callback:function(e){t.$set(t.form,"vote_day_limit",e)},expression:"form.vote_day_limit"}})],1):t._e(),t._v(" "),1==t.form.status&&t.form.pull_success?s("div",{staticClass:"flex-container mt-20 align-center"},[s("span",{staticClass:"label"},[t._v("每天每人拉票获得红包限制:")]),t._v(" "),s("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"每天每用户拉票获得红包次数上限，0为不限制",type:"number"},model:{value:t.form.pull_user_day_limit,callback:function(e){t.$set(t.form,"pull_user_day_limit",e)},expression:"form.pull_user_day_limit"}})],1):t._e(),t._v(" "),1==t.form.status&&t.form.pull_success?s("div",{staticClass:"flex-container mt-20 align-center"},[s("span",{staticClass:"label"},[t._v("每天总体拉票获得红包限制:")]),t._v(" "),s("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"每天全部用户拉票获得红包次数上限，0为不限制",type:"number"},model:{value:t.form.pull_day_limit,callback:function(e){t.$set(t.form,"pull_day_limit",e)},expression:"form.pull_day_limit"}})],1):t._e(),t._v(" "),s("p",{staticStyle:{color:"red","margin-left":"20px"}},[t._v("* 投票、拉票限制默认值为0，即不限制")]),t._v(" "),s("div",{staticClass:"flex-container mt-20"},[s("el-button",{on:{click:function(e){t.$router.go(-1)}}},[t._v("返回")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)])},staticRenderFns:[]};var u=s("VU/8")(o,r,!1,function(t){s("1vpp")},"data-v-f29f547c",null);e.default=u.exports}});