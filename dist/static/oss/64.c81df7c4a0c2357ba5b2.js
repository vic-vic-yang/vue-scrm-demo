webpackJsonp([64],{"3c82":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),o=n.n(a),i=n("DRSr"),r=n("YK4W"),l=n("0xDb"),s={name:"commentCenter",components:{customElTable:r.a},data:function(){return{origins:[{label:"全部",value:0},{label:"文章",value:1},{label:"投票",value:2}],formInline:{sourceType:"",commentTitle:"",username:"",userId:""},tableData:[],pageIndex:1,pageSize:20,totalCount:0,tabLoading:!1,tableOptions:[{label:"编号",prop:"id"},{label:"评论内容",prop:"content"},{label:"评论标题",prop:"title"},{label:"评论来源",prop:"comment_origin"},{label:"用户ID",prop:"user_id"},{label:"用户名",prop:"user_name",width:160},{label:"状态",prop:"statusInZh"},{label:"评论时间",prop:"timming"},{prop:"USER_ACTION",actions:["pass","reject","del"]}]}},created:function(){this.getData()},methods:{selectChange:function(){},getData:function(){var e=this,t=o()({pageIndex:this.pageIndex,pageSize:this.pageSize},this.formInline);i.a.list(t).then(function(t){e.tableData=t.result,e.tableData=e.tableData.map(function(e){var t="";"0"===e.status?t="待审核":"1"===e.status?t="通过":"2"===e.status&&(t="拒绝");var n=2===Number(e.source_type)?"投票":"文章";return o()({},e,{timming:1*e.create_time>0?Object(l.c)(e.create_time,"{y}-{m}-{d} {h}:{i}:{s}"):"",statusInZh:t,comment_origin:n})}),e.totalCount=1*t.totalCount})},sizeChangeHandler:function(e){this.pageSize=e,this.pageIndex=1,this.getData()},pageChangeHandler:function(e){this.pageIndex=e,this.getData()},operate:function(e,t){var n=this,a={id:e[0].id,status:t};3===Number(t)?this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.operate(a).then(function(e){e.success&&(n.$message({message:"操作成功",type:"success"}),n.getData())})}).catch(function(){n.$message({type:"info",message:"已取消删除"})}):i.a.operate(a).then(function(e){e.success&&(n.$message({message:"操作成功",type:"success"}),n.getData())})},onSubmit:function(){this.getData()}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-wrapper app-container"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"评论来源"}},[n("el-select",{attrs:{placeholder:"评论来源"},on:{change:e.selectChange},model:{value:e.formInline.sourceType,callback:function(t){e.$set(e.formInline,"sourceType",t)},expression:"formInline.sourceType"}},e._l(e.origins,function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"评论标题"}},[n("el-input",{attrs:{placeholder:"评论标题"},model:{value:e.formInline.commentTitle,callback:function(t){e.$set(e.formInline,"commentTitle",t)},expression:"formInline.commentTitle"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"用户ID"}},[n("el-input",{attrs:{placeholder:"用户ID"},model:{value:e.formInline.userId,callback:function(t){e.$set(e.formInline,"userId",t)},expression:"formInline.userId"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),n("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tabLoading,expression:"tabLoading"}],attrs:{tableData:e.tableData,tableOptions:e.tableOptions,total:e.totalCount},on:{delete:function(t){e.operate(arguments,3)},pass:function(t){e.operate(arguments,1)},reject:function(t){e.operate(arguments,2)},"size-change":e.sizeChangeHandler,"page-change":e.pageChangeHandler},model:{value:e.pageIndex,callback:function(t){e.pageIndex=t},expression:"pageIndex"}})],1)},staticRenderFns:[]};var u=n("VU/8")(s,c,!1,function(e){n("ZJQZ")},"data-v-46cfd73e",null);t.default=u.exports},DRSr:function(e,t,n){"use strict";var a=n("gyMJ");t.a={list:function(e){return a.a.get("/ugc/v1/topic-comment/index",{params:e}).then(function(e){return e.data})},operate:function(e){return a.a.get("/ugc/v1/topic-comment/operate",{params:e}).then(function(e){return e.data})},configList:function(){return a.a.get("/ugc/v1/topic-comment/config").then(function(e){return e.data})},operateConfigList:function(e){return a.a.get("/ugc/v1/topic-comment/pattern",{params:e}).then(function(e){return e.data})}}},FoRe:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"",""])},ZJQZ:function(e,t,n){var a=n("FoRe");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("2a137bd3",a,!0)}});