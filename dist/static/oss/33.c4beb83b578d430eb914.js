webpackJsonp([33],{"PK/N":function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r("EhSW"),l={name:"editor",components:{},data:function(){return{action:this.$route.params.id?"modify":"add",avatarAction:"/fileUpload/fileUpload/upload",ruleFrm:{id:this.$route.params.id||0,name:"",algorithm:1,filter_user:0,info:""},frmRules:{name:[{required:!0,message:"名称必填"}]}}},created:function(){this.getDetail()},methods:{getDetail:function(){var n=this;"modify"===this.action&&t.a.get(this.ruleFrm.id).then(function(e){n.ruleFrm={id:e.id,name:e.name,algorithm:e.algorithm,filter_user:e.filter_user,info:e.info}}).catch(function(){n.$alert("数据获取失败，返回抽奖规则列表页面","错误",{confirmButtonText:"确定",callback:function(){n.$router.replace({name:"lotteryRule"})}})})},save:function(){var n=this;this.$refs.ruleFrom.validate(function(e){e&&t.a.operation(n.ruleFrm).then(function(e){n.$router.back()})})}}},a={render:function(){var n=this,e=n.$createElement,r=n._self._c||e;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"ruleFrom",attrs:{model:n.ruleFrm,rules:n.frmRules,"label-width":"80px"}},[r("el-form-item",{attrs:{prop:"name",label:"规则名称"}},[r("el-input",{attrs:{placeholder:"请输入抽奖规则名称",name:"name",clearable:!0},model:{value:n.ruleFrm.name,callback:function(e){n.$set(n.ruleFrm,"name",e)},expression:"ruleFrm.name"}})],1),n._v(" "),r("el-form-item",{attrs:{prop:"algorithm",label:"抽奖算法"}},[r("el-radio",{attrs:{label:1},model:{value:n.ruleFrm.algorithm,callback:function(e){n.$set(n.ruleFrm,"algorithm",e)},expression:"ruleFrm.algorithm"}},[n._v("平均分布")]),n._v(" "),r("el-radio",{attrs:{label:2},model:{value:n.ruleFrm.algorithm,callback:function(e){n.$set(n.ruleFrm,"algorithm",e)},expression:"ruleFrm.algorithm"}},[n._v("绝对随机")])],1),n._v(" "),r("el-form-item",{attrs:{prop:"filter_user",label:"用户过滤"}},[r("el-radio",{attrs:{label:0},model:{value:n.ruleFrm.filter_user,callback:function(e){n.$set(n.ruleFrm,"filter_user",e)},expression:"ruleFrm.filter_user"}},[n._v("无")]),n._v(" "),r("el-radio",{attrs:{label:1},model:{value:n.ruleFrm.filter_user,callback:function(e){n.$set(n.ruleFrm,"filter_user",e)},expression:"ruleFrm.filter_user"}},[n._v("黑名单")]),n._v(" "),r("el-radio",{attrs:{label:2},model:{value:n.ruleFrm.filter_user,callback:function(e){n.$set(n.ruleFrm,"filter_user",e)},expression:"ruleFrm.filter_user"}},[n._v("会员组")])],1),n._v(" "),r("el-form-item",{attrs:{prop:"info",label:"规则备注"}},[r("el-input",{attrs:{type:"textarea",rows:2,name:"info",placeholder:"请输入抽奖规则介绍"},model:{value:n.ruleFrm.info,callback:function(e){n.$set(n.ruleFrm,"info",e)},expression:"ruleFrm.info"}})],1),n._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),n.save(e)}}},[n._v("保存")]),n._v(" "),r("el-button",{on:{click:function(e){n.$router.back()}}},[n._v("取消")])],1)],1)],1)},staticRenderFns:[]};var i=r("VU/8")(l,a,!1,function(n){r("eCaK")},"data-v-0ab4c1d8",null);e.default=i.exports},"Z+H5":function(n,e,r){(n.exports=r("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},eCaK:function(n,e,r){var t=r("Z+H5");"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);r("rjj0")("10b39f9d",t,!0)}});