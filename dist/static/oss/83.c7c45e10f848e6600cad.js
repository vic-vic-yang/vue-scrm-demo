webpackJsonp([83],{Crr4:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("Dd8w"),r=t.n(a),i=t("YK4W"),l=t("M4fF"),s=t.n(l),o=t("9gdG"),c=t("0xDb"),p={name:"integralDetails",components:{customElTable:i.a},data:function(){return{orderQueryFrm:{search_type:1,search_input:"",status:"",time:[]},tableOptions:[{label:"序号",prop:"id"},{label:"用户ID",prop:"user_id",options:{type:"html"}},{label:"昵称",prop:"nick_name"},{label:"联系用户名",prop:"user_name"},{label:"手机号码",prop:"phone",options:{type:"html"}},{label:"消耗 / 获取明细",prop:"desc",options:{type:"html"}},{label:"完成时间",prop:"create_time",sortable:!0,width:200,className:"ph-6"},{label:"消耗 / 获取积分",prop:"integral"}],tableData:[],pageIndex:1,pageSize:20,totalCount:0,tabLoading:!0,conditionOptions:[{value:1,label:"用户名"},{value:2,label:"昵称"},{value:3,label:"手机号码"}],conditionType:"order_number",statusOptions:[{value:0,label:"全部积分数据"},{value:1,label:"用户已获取积分"},{value:2,label:"用户已消耗积分"}],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-6048e5),n.$emit("pick",[t,e])}},{text:"最近一个月",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-2592e6),n.$emit("pick",[t,e])}},{text:"最近三个月",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-7776e6),n.$emit("pick",[t,e])}}]},query:null}},created:function(){this.getData()},methods:{getData:function(){var n=this,e=this.query||{};this.tabLoading=!0,o.a.details(r()({page_index:this.pageIndex,page_size:this.pageSize},e)).then(function(e){n.tableData=(e.result||[]).map(function(n){return r()({},n,{integral:1*n.integral>0?"+"+n.integral:n.integral,create_time:""===n.create_time||1*n.create_time==0?"--":Object(c.c)(n.create_time)})}),n.totalCount=1*e.totalCount,n.tabLoading=!1}).catch(function(e){n.$message({type:"info",message:e.message})})},searchOrderList:function(){this.query=s.a.cloneDeep(this.orderQueryFrm);var n=this.query.time;this.$set(this.query,"finish_start_time",n[0]||""),this.$set(this.query,"finish_end_time",n[1]||""),this.$delete(this.query,"time"),this.pageIndex=1,this.getData()},sizeChangeHandler:function(n){this.pageSize=n,this.pageIndex=1,this.getData()},pageChangeHandler:function(n){this.pageIndex=n,this.getData()},searchTypeChange:function(){this.$set(this.orderQueryFrm,"search_input","")},resetForm:function(n){this.$refs[n].resetFields()}}},u={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container integral-details"},[t("div",{staticClass:"control-group"},[t("el-form",{ref:"orderQueryFrm",attrs:{inline:!0,model:n.orderQueryFrm}},[t("el-form-item",{attrs:{prop:"search_input"}},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:n.orderQueryFrm.search_input,callback:function(e){n.$set(n.orderQueryFrm,"search_input",e)},expression:"orderQueryFrm.search_input"}},[t("el-select",{staticStyle:{width:"126px"},attrs:{slot:"prepend",placeholder:"请选择"},on:{change:n.searchTypeChange},slot:"prepend",model:{value:n.orderQueryFrm.search_type,callback:function(e){n.$set(n.orderQueryFrm,"search_type",e)},expression:"orderQueryFrm.search_type"}},n._l(n.conditionOptions,function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1)],1),n._v(" "),t("el-form-item",{attrs:{prop:"status",label:"积分状态"}},[t("el-select",{attrs:{placeholder:"全部积分数据",clearable:""},model:{value:n.orderQueryFrm.status,callback:function(e){n.$set(n.orderQueryFrm,"status",e)},expression:"orderQueryFrm.status"}},n._l(n.statusOptions,function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),t("el-form-item",{attrs:{prop:"time",label:"完成时间"}},[t("el-date-picker",{attrs:{editable:!1,type:"datetimerange","picker-options":n.pickerOptions,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd HH:mm:ss",align:"right"},model:{value:n.orderQueryFrm.time,callback:function(e){n.$set(n.orderQueryFrm,"time",e)},expression:"orderQueryFrm.time"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:n.searchOrderList}},[n._v("查询")]),n._v(" "),t("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){n.resetForm("orderQueryFrm")}}},[n._v("重置")])],1)],1)],1),n._v(" "),t("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.tabLoading,expression:"tabLoading"}],attrs:{tableData:n.tableData,tableOptions:n.tableOptions,total:n.totalCount},on:{"size-change":n.sizeChangeHandler,"page-change":n.pageChangeHandler},model:{value:n.pageIndex,callback:function(e){n.pageIndex=e},expression:"pageIndex"}})],1)},staticRenderFns:[]};var d=t("VU/8")(p,u,!1,function(n){t("cn5h")},"data-v-7d2cd948",null);e.default=d.exports},aR3f:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},cn5h:function(n,e,t){var a=t("aR3f");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("256e9b44",a,!0)}});