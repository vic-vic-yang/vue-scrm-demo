webpackJsonp([59],{"88Ue":function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},L7zj:function(n,e,t){var a=t("88Ue");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("5a54e79d",a,!0)},aPhD:function(n,e,t){"use strict";var a=t("gyMJ");e.a={list:function(n){return a.a.get("/groupBuy/v1/card/card-check/get-list",{params:n}).then(function(n){return n.data})},search:function(n){return a.a.get("/groupBuy/v1/card/card-check/get-one?card_number="+n).then(function(n){return n.data})},check:function(n){return a.a.get("/groupBuy/v1/card/card-check/check?card_number="+n,{autoShowMessage:!0,showMessageType:"put"}).then(function(n){return n.data})},personnel_list:function(n){return a.a.get("/groupBuy/v1/card/card-check-users",{params:n}).then(function(n){return n.data})},personnel_del:function(n){return a.a.delete("/groupBuy/v1/card/card-check-users/"+n.id,{autoShowMessage:!0})},personnel_status:function(n){return a.a.put("/groupBuy/v1/card/card-check-users/"+n.id+"/status/"+n.status,{},{autoShowMessage:!0,showMessageType:"put"})},personnel_get:function(n){return a.a.get("/groupBuy/v1/card/card-check-users/"+n.id).then(function(n){return n.data})},personnel_add:function(n){return a.a.post("/groupBuy/v1/card/card-check-users",n,{autoShowMessage:!0})},personnel_edit:function(n){return a.a.put("/groupBuy/v1/card/card-check-users/{id}",n,{autoShowMessage:!0})}}},aj8G:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("YK4W"),r=t("aPhD"),o={name:"writeOffManagement",components:{customElTable:a.a},data:function(){return{tableOptions:[{label:"订单号",prop:"order_number"},{label:"商品名",prop:"goods_name"},{label:"价格",prop:"goods_price"},{label:"用户",prop:"nickname"},{label:"下单日期",prop:"order_time"},{label:"有效期",prop:"validate_time",width:145},{prop:"USER_ACTION",actions:[{type:"check",label:"立即核销",btn:"primary"}]}],tableData:[],tabLoading:!1,managementQueryFrm:{card_number:""},query:null}},created:function(){},methods:{getData:function(){var n=this;if(!this.query)return!1;this.tabLoading=!0,r.a.search(this.query).then(function(e){e&&e.order_number?n.tableData=[e]:n.$message({type:"error",message:"无效券码，请重新输入"}),n.tabLoading=!1})},searchManagementData:function(){this.query=this.managementQueryFrm.card_number,this.pageIndex=1,this.getData()},actionHandler:function(n,e){var t=this;"check"===n&&this.$confirm("确认核销吗？","核销",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.a.check(e.card_number).then(function(){t.tableData=[],t.totalCount=0})}).catch(function(){t.$message({type:"info",message:"已取消核销"})})},resetForm:function(n){this.$refs[n].resetFields()}}},c={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"control-group"},[t("el-form",{ref:"managementQueryFrm",attrs:{inline:!0,model:n.managementQueryFrm}},[t("el-form-item",{attrs:{prop:"card_number",label:"电子卡劵"}},[t("el-input",{attrs:{placeholder:"电子卡劵"},model:{value:n.managementQueryFrm.card_number,callback:function(e){n.$set(n.managementQueryFrm,"card_number",e)},expression:"managementQueryFrm.card_number"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:n.searchManagementData}},[n._v("查询")]),n._v(" "),t("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){n.resetForm("managementQueryFrm")}}},[n._v("重置")])],1)],1)],1),n._v(" "),t("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.tabLoading,expression:"tabLoading"}],attrs:{tableData:n.tableData,tableOptions:n.tableOptions,pagination:!1},on:{action:n.actionHandler}})],1)},staticRenderFns:[]};var u=t("VU/8")(o,c,!1,function(n){t("L7zj")},"data-v-a2f1f368",null);e.default=u.exports}});