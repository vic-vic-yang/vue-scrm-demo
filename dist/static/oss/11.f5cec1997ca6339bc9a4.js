webpackJsonp([11],{"68KG":function(t,e,a){var r=a("8R18");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("44958fab",r,!0)},"80Tf":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),l=a.n(r),o=a("P4xW"),i={name:"groupEditor",components:{uploadPrizeAvatar:a("QbVN").a},data:function(){return{advertId:this.$route.params.id,action:this.$route.params.id?"modify":"add",advertFrm:{status:1,description:"",location:0,link:"",image_url:"",show_label:1},frmRules:{description:[{required:!0,message:"请输入广告标题"}],link:[{type:"url",required:!1,message:"请输入正确的广告链接"}],image_url:[{required:!0,message:"请上传广告图片"}]},advertPositionOptions:[{label:"首页",value:0},{label:"答题结束页",value:1}]}},created:function(){this.advertId&&this.getData()},methods:{getData:function(){var t=this;o.a.get(this.advertId).then(function(e){t.advertFrm=l()({},e,{image_url:e.imageUrl})})},save:function(){var t=this;this.$refs.advertFrm.validate(function(e){e&&("modify"===t.action?o.a.edit(t.advertFrm):o.a.add(t.advertFrm)).then(function(){t.$router.back()})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"advertFrm",attrs:{model:t.advertFrm,rules:t.frmRules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"status",label:"广告开关"}},[a("el-radio-group",{model:{value:t.advertFrm.status,callback:function(e){t.$set(t.advertFrm,"status",e)},expression:"advertFrm.status"}},[a("el-radio",{attrs:{label:1}},[t._v("开")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("关")])],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"description",label:"广告标题"}},[a("el-input",{attrs:{name:"description",placeholder:"请输入广告标题"},model:{value:t.advertFrm.description,callback:function(e){t.$set(t.advertFrm,"description",e)},expression:"advertFrm.description"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"position",label:"广告位置"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.advertFrm.location,callback:function(e){t.$set(t.advertFrm,"location",e)},expression:"advertFrm.location"}},t._l(t.advertPositionOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{staticClass:"rel",attrs:{prop:"showLabel",label:"标签"}},[a("el-tooltip",{staticClass:"abs",staticStyle:{left:"-55px"},attrs:{effect:"dark",content:"选择显示/隐藏前端广告位的标签",placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]),t._v(" "),a("el-radio-group",{model:{value:t.advertFrm.show_label,callback:function(e){t.$set(t.advertFrm,"show_label",e)},expression:"advertFrm.show_label"}},[a("el-radio",{attrs:{label:1}},[t._v("开启")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("关闭")])],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"link",label:"广告链接"}},[a("el-input",{attrs:{name:"link",placeholder:"请输入广告链接"},model:{value:t.advertFrm.link,callback:function(e){t.$set(t.advertFrm,"link",e)},expression:"advertFrm.link"}}),t._v(" "),a("small",{staticClass:"text-999"},[t._v("广告链接为空,小程序中该广告将不会跳转,仅做图片展示")])],1),t._v(" "),a("el-form-item",{attrs:{prop:"image_url",label:"广告图片"}},[a("upload-prize-avatar",{model:{value:t.advertFrm.image_url,callback:function(e){t.$set(t.advertFrm,"image_url",e)},expression:"advertFrm.image_url"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.save(e)}}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(t){a("68KG")},"data-v-a045323c",null);e.default=s.exports},"8R18":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.rel[data-v-a045323c]{\r\n  position: relative;\n}\n.abs[data-v-a045323c]{\r\n  position: absolute;\r\n  left:-80px;\r\n  top:10px\n}\r\n",""])},P4xW:function(t,e,a){"use strict";var r=a("gyMJ");e.a={list:function(t){return r.a.get("/v1/operation/ads",{params:t}).then(function(t){return t.data})},get:function(t){return r.a.get("/v1/operation/ads/"+t).then(function(t){return t.data})},add:function(t){return r.a.post("/v1/operation/ads/create",t,{autoShowMessage:!0})},edit:function(t){return r.a.put("/v1/operation/ads/"+t.id,t,{autoShowMessage:!0})},del:function(t){return r.a.delete("/v1/operation/ads/"+t.id,{autoShowMessage:!0})}}}});