webpackJsonp([47],{"4h/Z":function(n,e,a){(n.exports=a("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"g/3w":function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=a("Dd8w"),i=a.n(t),r=a("YK4W"),o=a("gyMJ"),l=function(n){return o.a.get("/readingClub/v1/readingClub/user-manage/user-manage",{params:n}).then(function(n){return n.data})},s=function(n){return o.a.get("/readingClub/v1/readingClub/user-manage/reading-plan",{params:n})},p=function(n){return o.a.get("/readingClub/v1/readingClub/user-manage/reading-record",{params:n})},g=function(n){return o.a.get("/readingClub/v1/readingClub/user-manage/reading-club",{params:n})},d=function(n){return o.a.get("/readingClub/v1/readingClub/user-manage/hit-c-record",{params:n})},c=a("0xDb"),u=a("M4fF"),_=a.n(u),m={name:"detail",props:["user_id"],data:function(){return{activeName:"first",readingRecord:[],readingClub:[],plan:[],book:[],openRecord:[],sizes:[10,20,50,100],reading_page_info:{pageIndex:1,pageSize:20,totalCount:1},club_page_info:{pagesIndex:1,pageSize:20,totalCount:1},plan_page_info:{pageIndex:1,pageSize:20,totalCount:1},book_page_info:{pageIndex:1,pageSize:20,totalCount:1},card_page_info:{pageIndex:1,pageSize:20,totalCount:1},readingTabLoading:!0,clubTabLoading:!0,planTabLoading:!0,bookTabLoading:!0,cardTabLoading:!0}},created:function(){this.handleClick()},methods:{handleClick:function(){"first"===this.activeName?this.get_reading_record():"second"===this.activeName?this.get_reading_club():"third"===this.activeName?this.get_reading_plan():"fourth"===this.activeName?console.log("收藏"):this.get_punch_card_record()},get_reading_plan:function(){var n=this;this.planTabLoading=!0,s({page_index:this.plan_page_info.pageIndex,page_size:this.plan_page_info.pageSize,user_id:this.user_id}).then(function(e){n.plan=(e.data.records||[]).map(function(n){return i()({},n,{start_time:1*n.start_time>0?Object(c.c)(n.start_time):"--",end_time:1*n.start_time>0?Object(c.c)(n.end_time):"--"})}),n.plan_page_info.totalCount=1*e.data.totalCount,n.planTabLoading=!1})},get_reading_record:function(){var n=this;this.readingTabLoading=!0,p({page_index:this.reading_page_info.pageIndex,page_size:this.reading_page_info.pageSize,user_id:this.user_id}).then(function(e){console.log(e),n.readingRecord=(e.data.records||[]).map(function(n){return i()({},n,{image_url:n.cover[0].file_path,create_time:1*n.create_time>0?Object(c.c)(n.create_time):"--"})}),n.reading_page_info.totalCount=1*e.data.totalCount,n.readingTabLoading=!1})},get_reading_club:function(){var n=this;this.clubTabLoading=!0,g({page_index:this.club_page_info.pageIndex,page_size:this.club_page_info.pageSize,user_id:this.user_id}).then(function(e){n.readingClub=(e.data.records||[]).map(function(n){return i()({},n,{create_time:1*n.create_time>0?Object(c.c)(n.create_time):"--"})}),n.club_page_info.totalCount=1*e.data.totalCount,n.clubTabLoading=!1})},get_punch_card_record:function(){var n=this;this.cardTabLoading=!0,d({page_index:this.card_page_info.pageIndex,page_size:this.card_page_info.pageSize,user_id:this.user_id}).then(function(e){n.openRecord=(e.data.records||[]).map(function(n){return i()({},n,{punch_chapter:"整书",status:1*n.status==0?"章节打卡":"整书打卡",create_time:1*n.create_time>0?Object(c.c)(n.create_time):"--",update_time:1*n.update_time>0?Object(c.c)(n.update_time):"--"})}),n.card_page_info.totalCount=1*e.data.totalCount,n.cardTabLoading=!1})},sizeChangeHandler:function(n){"first"===this.activeName?(this.reading_page_info.pageSize=n,this.reading_page_info.pageIndex=1,this.get_reading_record()):"second"===this.activeName?(this.club_page_info.pageSize=n,this.club_page_info.pageIndex=1,this.get_reading_club()):"third"===this.activeName?(this.plan_page_info.pageSize=n,this.plan_page_info.pageIndex=1,this.get_reading_plan()):"fourth"===this.activeName?(this.book_page_info.pageSize=n,this.book_page_info.pageIndex=1):(this.card_page_info.pageSize=n,this.card_page_info.pageIndex=1,this.get_punch_card_record())},pageChangeHandler:function(n){"first"===this.activeName?(this.reading_page_info.pageIndex=n,this.get_reading_record()):"second"===this.activeName?(this.club_page_info.pageIndex=n,this.get_reading_club()):"third"===this.activeName?(this.plan_page_info.pageIndex=n,this.get_reading_plan()):"fourth"===this.activeName?this.book_page_info.pageIndex=n:(this.card_page_info.pageIndex=n,this.get_punch_card_record())}}},h={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("div",{staticStyle:{width:"90%",margin:"0 auto",height:"650px"}},[a("el-tabs",{on:{"tab-click":n.handleClick},model:{value:n.activeName,callback:function(e){n.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"阅读记录",name:"first"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:n.readingTabLoading,expression:"readingTabLoading"}],staticStyle:{"max-height":"600px","overflow-y":"auto"}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:n.readingRecord}},[a("el-table-column",{attrs:{label:"书籍封面"},scopedSlots:n._u([{key:"default",fn:function(n){return[a("img",{staticStyle:{width:"80px",height:"auto"},attrs:{src:n.row.image_url}})]}}])}),n._v(" "),a("el-table-column",{attrs:{prop:"book_id",label:"书籍ID",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"name",label:"书籍名",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"最近阅读时间"}})],1),n._v(" "),n.reading_page_info.totalCount>0?a("el-pagination",{attrs:{background:"","current-page":n.reading_page_info.pageIndex,"page-sizes":n.sizes,"page-size":n.reading_page_info.pageSize,layout:"sizes, prev, pager, next","current-page":n.reading_page_info.pageIndex,total:n.reading_page_info.totalCount},on:{"size-change":n.sizeChangeHandler,"current-change":n.pageChangeHandler,"update:currentPage":function(e){n.$set(n.reading_page_info,"pageIndex",e)}}}):n._e()],1)]),n._v(" "),a("el-tab-pane",{attrs:{label:"加入的读书会",name:"second"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:n.clubTabLoading,expression:"clubTabLoading"}],staticStyle:{"max-height":"600px","overflow-y":"auto"}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:n.readingClub}},[a("el-table-column",{attrs:{prop:"id",label:"读书会ID",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"name",label:"读书会名",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"读书会创建人",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"加入读书会时间"}}),n._v(" "),a("el-table-column",{attrs:{prop:"p_user_name",label:"邀请人"}})],1),n._v(" "),n.club_page_info.totalCount>0?a("el-pagination",{attrs:{background:"","current-page":n.club_page_info.pageIndex,"page-sizes":n.sizes,"page-size":n.club_page_info.pageSize,layout:"sizes, prev, pager, next","current-page":n.club_page_info.pageIndex,total:n.club_page_info.totalCount},on:{"size-change":n.sizeChangeHandler,"current-change":n.pageChangeHandler,"update:currentPage":function(e){n.$set(n.club_page_info,"pageIndex",e)}}}):n._e()],1)]),n._v(" "),a("el-tab-pane",{attrs:{label:"加入的计划",name:"third"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:n.planTabLoading,expression:"planTabLoading"}],staticStyle:{"max-height":"600px","overflow-y":"auto"}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:n.plan}},[a("el-table-column",{attrs:{prop:"id",label:"计划ID",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"reading_plan_name",label:"计划名",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"reading_club_name",label:"所属读书会",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"start_time",label:"计划开始时间"}}),n._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"计划结束时间"}})],1),n._v(" "),n.plan_page_info.totalCount>0?a("el-pagination",{attrs:{background:"","current-page":n.plan_page_info.pageIndex,"page-size":n.plan_page_info.pageSize,"page-sizes":n.sizes,layout:"sizes, prev, pager, next","current-page":n.plan_page_info.pageIndex,total:n.plan_page_info.totalCount},on:{"size-change":n.sizeChangeHandler,"current-change":n.pageChangeHandler,"update:currentPage":function(e){n.$set(n.plan_page_info,"pageIndex",e)}}}):n._e()],1)]),n._v(" "),n._e(),n._v(" "),a("el-tab-pane",{attrs:{label:"打卡记录",name:"five"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:n.cardTabLoading,expression:"cardTabLoading"}],staticStyle:{"max-height":"600px","overflow-y":"auto"}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:n.openRecord}},[a("el-table-column",{attrs:{prop:"status",label:"打卡类型",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"book_id",label:"书籍ID",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"book_name",label:"书籍名",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"classify",label:"书籍分类"}}),n._v(" "),n._e(),n._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"打卡时间"}})],1),n._v(" "),n.card_page_info.totalCount>0?a("el-pagination",{attrs:{background:"","current-page":n.card_page_info.pageIndex,"page-size":n.card_page_info.pageSize,"page-sizes":n.sizes,layout:"sizes, prev, pager, next","current-page":n.card_page_info.pageIndex,total:n.card_page_info.totalCount},on:{"size-change":n.sizeChangeHandler,"current-change":n.pageChangeHandler,"update:currentPage":function(e){n.$set(n.card_page_info,"pageIndex",e)}}}):n._e()],1)])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(m,h,!1,function(n){a("vfA/")},"data-v-1fe3f6ee",null).exports,f={name:"interpretationList",components:{customElTable:r.a,userDetail:b},data:function(){return{dialogVisible:!1,tableOptions:[{label:"编号",prop:"index",width:80},{label:"用户ID",prop:"user_id"},{label:"用户名",prop:"user_name"},{label:"用户头像",prop:"avatar",options:{type:"html"}},{label:"手机号",prop:"phone_number"},{label:"创建时间",prop:"create_time",sortable:!0,width:105,className:"ph-6"},{prop:"USER_ACTION",actions:[{type:"detail",label:"查看详情"}]}],tableData:[],pageIndex:1,pageSize:20,totalCount:0,tabLoading:!0,userQueryFrm:{user_name:"",user_id:"",phone_number:"",time:[]},query:null,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(n){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),n.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(n){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),n.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(n){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),n.$emit("pick",[a,e])}}]},user_id:""}},created:function(){this.getData()},methods:{getData:function(){var n=this,e=this.query||{};this.tabLoading=!0,l(i()({page_index:this.pageIndex,page_size:this.pageSize},e)).then(function(e){n.tableData=(e.records||[]).map(function(e,a){return i()({},e,{avatar:'<img style="width: 60px;;height: 60px;" src="'+e.avatar+'">',create_time:1*e.create_time>0?Object(c.c)(e.create_time):"--",index:n.pageSize*(n.pageIndex-1)+a+1})}),n.totalCount=1*e.totalCount,n.tabLoading=!1})},searchActivityList:function(){this.query=_.a.cloneDeep(this.userQueryFrm);var n=this.query.time||[];this.$set(this.query,"start_time",this.timestamp(n[0])||""),this.$set(this.query,"end_time",this.timestamp(n[1])||""),this.$delete(this.query,"time"),this.pageIndex=1,this.getData()},timestamp:function(n){if(n){var e=n.replace(/-/g,"/");return Date.parse(e)/1e3}return""},actionHandler:function(n,e){"detail"===n&&(this.user_id=e.user_id,this.dialogVisible=!0)},sizeChangeHandler:function(n){this.pageSize=n,this.pageIndex=1,this.getData()},pageChangeHandler:function(n){this.pageIndex=n,this.getData()},resetForm:function(n){this.$refs[n].resetFields()}}},v={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"control-group"},[a("el-form",{ref:"userQueryFrm",attrs:{inline:!0,model:n.userQueryFrm}},[a("el-form-item",{attrs:{prop:"user_name",label:"用户名"}},[a("el-input",{attrs:{placeholder:"用户名"},model:{value:n.userQueryFrm.user_name,callback:function(e){n.$set(n.userQueryFrm,"user_name",e)},expression:"userQueryFrm.user_name"}})],1),n._v(" "),a("el-form-item",{attrs:{prop:"user_id",label:"用户ID"}},[a("el-input",{attrs:{placeholder:"用户ID"},model:{value:n.userQueryFrm.user_id,callback:function(e){n.$set(n.userQueryFrm,"user_id",e)},expression:"userQueryFrm.user_id"}})],1),n._v(" "),a("el-form-item",{attrs:{prop:"phone_number",label:"手机号"}},[a("el-input",{attrs:{placeholder:"手机号"},model:{value:n.userQueryFrm.phone_number,callback:function(e){n.$set(n.userQueryFrm,"phone_number",e)},expression:"userQueryFrm.phone_number"}})],1),n._v(" "),a("el-form-item",{attrs:{prop:"time",label:"创建时间"}},[a("el-date-picker",{attrs:{editable:!1,type:"datetimerange","picker-options":n.pickerOptions,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd HH:mm:ss",align:"right"},model:{value:n.userQueryFrm.time,callback:function(e){n.$set(n.userQueryFrm,"time",e)},expression:"userQueryFrm.time"}})],1),n._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:n.searchActivityList}},[n._v("查询")]),n._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){n.resetForm("userQueryFrm")}}},[n._v("重置")])],1)],1)],1),n._v(" "),a("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.tabLoading,expression:"tabLoading"}],attrs:{tableData:n.tableData,tableOptions:n.tableOptions,total:n.totalCount},on:{action:n.actionHandler,"size-change":n.sizeChangeHandler,"page-change":n.pageChangeHandler},model:{value:n.pageIndex,callback:function(e){n.pageIndex=e},expression:"pageIndex"}}),n._v(" "),a("el-dialog",{attrs:{title:"详情",top:"10vh",visible:n.dialogVisible,width:"60%"},on:{"update:visible":function(e){n.dialogVisible=e}}},[a("user-detail",{attrs:{user_id:n.user_id}})],1)],1)},staticRenderFns:[]};var x=a("VU/8")(f,v,!1,function(n){a("h3RO")},"data-v-7bfe94b6",null);e.default=x.exports},h3RO:function(n,e,a){var t=a("4h/Z");"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);a("rjj0")("26151b20",t,!0)},re9b:function(n,e,a){(n.exports=a("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"vfA/":function(n,e,a){var t=a("re9b");"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);a("rjj0")("1cdd7b67",t,!0)}});