webpackJsonp([14],{"7Uuk":function(e,n,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},ts51:function(e,n,t){var a=t("7Uuk");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("14d1a968",a,!0)},yQXV:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("Dd8w"),l=t.n(a),r=t("h9qX"),m=t("NYxO"),p={name:"templateEditor",components:{uploadPrizeAvatar:t("QbVN").a},data:function(){return{pageLoading:!0,action:this.$route.params.id?"modify":"add",templateFrm:{id:this.$route.params.id||0,prize_type:1,name:"",avatar:"",info:"",price:0,deliver_type:1,status:1,merchant_name:"",activity_name:"",bless:"",comment:""},frmRules:{name:[{required:!0,message:"名称必填"}],price:[{required:!0,message:"奖品价值必填"}]}}},created:function(){this.getDetail()},computed:l()({},Object(m.b)({prizeTypeOptions:"prizeTypeOptions"})),methods:{getDetail:function(){var e=this;"modify"===this.action?r.b.get(this.templateFrm.id).then(function(n){e.templateFrm={id:n.id,prize_type:n.prize_type,name:n.name,avatar:n.avatar,info:n.info,price:n.price,deliver_type:n.deliver_type,status:n.status,merchant_name:n.merchant_name,activity_name:n.activity_name,bless:n.bless,comment:n.comment},e.pageLoading=!1}).catch(function(){e.$alert("数据获取失败，返回模板列表页","错误",{confirmButtonText:"确定",callback:function(){e.$router.replace({name:"prizeTemplate"})}})}):this.pageLoading=!1},save:function(){var e=this;this.$refs.templateForm.validate(function(n){n&&r.b.operation(e.templateFrm).then(function(n){e.$router.back()})})}}},i={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"app-container"},[t("el-form",{ref:"templateForm",attrs:{model:e.templateFrm,rules:e.frmRules,"label-width":"80px"}},[t("el-form-item",{attrs:{prop:"prize_type",label:"奖品类型"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.templateFrm.prize_type,callback:function(n){e.$set(e.templateFrm,"prize_type",n)},expression:"templateFrm.prize_type"}},e._l(e.prizeTypeOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{prop:"name",label:"奖品名称"}},[t("el-input",{attrs:{placeholder:"请输入奖品名称",name:"name",clearable:!0},model:{value:e.templateFrm.name,callback:function(n){e.$set(e.templateFrm,"name",n)},expression:"templateFrm.name"}})],1),e._v(" "),2===e.templateFrm.prize_type?[t("el-form-item",{attrs:{prop:"merchant_name",label:"商户名称"}},[t("el-input",{attrs:{name:"merchant_name",placeholder:"红包商户名称显示"},model:{value:e.templateFrm.merchant_name,callback:function(n){e.$set(e.templateFrm,"merchant_name",n)},expression:"templateFrm.merchant_name"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"activity_name",label:"活动名称"}},[t("el-input",{attrs:{name:"activity_name",placeholder:"例如可以填写促销活动的名称"},model:{value:e.templateFrm.activity_name,callback:function(n){e.$set(e.templateFrm,"activity_name",n)},expression:"templateFrm.activity_name"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"bless",label:"红包祝福"}},[t("el-input",{attrs:{name:"bless",placeholder:"例如:新年快乐;谢谢惠顾"},model:{value:e.templateFrm.bless,callback:function(n){e.$set(e.templateFrm,"bless",n)},expression:"templateFrm.bless"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"comment",label:"注释"}},[t("el-input",{attrs:{name:"comment",placeholder:"例如:10000个红包"},model:{value:e.templateFrm.comment,callback:function(n){e.$set(e.templateFrm,"comment",n)},expression:"templateFrm.comment"}})],1)]:e._e(),e._v(" "),101!==e.templateFrm.prize_type?[t("el-form-item",{attrs:{prop:"avatar",label:"奖品封面"}},[t("upload-prize-avatar",{model:{value:e.templateFrm.avatar,callback:function(n){e.$set(e.templateFrm,"avatar",n)},expression:"templateFrm.avatar"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"info",label:"奖品介绍"}},[t("el-input",{attrs:{type:"textarea",rows:2,name:"info",placeholder:"请输入奖品介绍"},model:{value:e.templateFrm.info,callback:function(n){e.$set(e.templateFrm,"info",n)},expression:"templateFrm.info"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"price",label:"奖品价值"}},[t("el-input",{attrs:{min:0,name:"price",placeholder:"奖品价值"},model:{value:e.templateFrm.price,callback:function(n){e.$set(e.templateFrm,"price",n)},expression:"templateFrm.price"}},[t("label",{staticClass:"text-999",attrs:{slot:"append"},slot:"append"},[e._v("（元）")])])],1)]:e._e(),e._v(" "),1===e.templateFrm.prize_type?[t("el-form-item",{attrs:{prop:"deliver_type",label:"兑奖方式"}},[t("el-radio",{attrs:{label:1},model:{value:e.templateFrm.deliver_type,callback:function(n){e.$set(e.templateFrm,"deliver_type",n)},expression:"templateFrm.deliver_type"}},[e._v("快递物流\n        ")]),e._v(" "),t("el-radio",{attrs:{label:2},model:{value:e.templateFrm.deliver_type,callback:function(n){e.$set(e.templateFrm,"deliver_type",n)},expression:"templateFrm.deliver_type"}},[e._v("线下兑奖\n        ")])],1)]:e._e(),e._v(" "),101!==e.templateFrm.prize_type?[t("el-form-item",{attrs:{prop:"status",label:"启用奖品"}},[t("el-radio",{attrs:{label:0},model:{value:e.templateFrm.status,callback:function(n){e.$set(e.templateFrm,"status",n)},expression:"templateFrm.status"}},[e._v("停用\n        ")]),e._v(" "),t("el-radio",{attrs:{label:1},model:{value:e.templateFrm.status,callback:function(n){e.$set(e.templateFrm,"status",n)},expression:"templateFrm.status"}},[e._v("启用\n        ")])],1)]:e._e(),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),t("el-button",{on:{click:function(n){e.$router.back()}}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var o=t("VU/8")(p,i,!1,function(e){t("ts51")},null,null);n.default=o.exports}});