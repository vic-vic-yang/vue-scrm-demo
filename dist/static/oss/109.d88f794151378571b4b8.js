webpackJsonp([109],{"8/Dh":function(n,e,t){var a=t("YM0S");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("9d0008be",a,!0)},YM0S:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},vKyN:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("Dd8w"),i=t.n(a),s=t("YK4W"),l=t("Ndhk"),r=t("0xDb"),o={name:"contentList",components:{customElTable:s.a},data:function(){return{tableOptions:[{label:"序号",prop:"id",width:80},{label:"标题",prop:"title"},{label:"形式",prop:"article",width:100},{label:"分类",prop:"classify_name",width:100},{label:"来源",prop:"author"},{label:"发布时间",prop:"create_time",sortable:!0,width:105,className:"ph-6"},{prop:"USER_ACTION",actions:[{type:"status",label:"导入",disableds:this.ifDisabled}]}],tableData:[],pageIndex:1,pageSize:20,totalCount:0,tabLoading:!1,content_id:"",multipleSelection:[],ifOperation:!1,b_class_options:[],class_page_info:{pageIndex:1,pageSize:10,totalCount:1,tabLoading:!0},classListQueryFrm:{title:"",source:"",type:"",class:"",time:[]},query:null,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-6048e5),n.$emit("pick",[t,e])}},{text:"最近一个月",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-2592e6),n.$emit("pick",[t,e])}},{text:"最近三个月",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-7776e6),n.$emit("pick",[t,e])}}]},classOptions:[{id:1,label:"全部"},{id:2,label:"财经"},{id:3,label:"新闻"},{id:4,label:"教育"},{id:5,label:"生活"}],typeOptions:[{value:1,label:"图文"},{value:2,label:"视频"}]}},created:function(){this.getData(),this.getBClass()},methods:{getData:function(){var n=this,e=this.query||{};this.tabLoading=!0,l.a.list.listO(i()({pageIndex:this.pageIndex,pageSize:this.pageSize},e)).then(function(e){e.result.forEach(function(n){n.create_time=Object(r.c)(n.create_time),n.article=n.article_type-0==1?"图文":"视频"}),n.tableData=e.result,n.totalCount=1*e.totalCount,n.tabLoading=!1}).catch(function(){n.tabLoading=!1})},getBClass:function(){var n=this;l.a.class.list({pageIndex:this.class_page_info.pageIndex,pageSize:this.class_page_info.pageSize}).then(function(e){n.b_class_options=e.result,n.class_page_info.totalCount=1*e.totalCount,n.class_page_info.tabLoading=!1}).catch(function(){n.tabLoading=!1})},searchGameList:function(){this.query={articleType:this.classListQueryFrm.type,classifyId:this.classListQueryFrm.class,title:this.classListQueryFrm.title,author:this.classListQueryFrm.source,startTime:this.classListQueryFrm.time[0],endTime:this.classListQueryFrm.time[1]},this.pageIndex=1,this.getData()},ifDisabled:function(n){return!!n&&!n.import},sizeChangeHandler:function(n){this.pageSize=n,this.pageIndex=1,this.getData()},pageChangeHandler:function(n){this.pageIndex=n,this.getData()},handleSelectionChange:function(n){this.multipleSelection=n},actionHandler:function(n,e){"status"===n&&(this.content_id=e.id,this.ifOperation=!1,this.seve())},importArticle:function(){this.multipleSelection.length<=0||(this.ifOperation=!0,this.seve())},seve:function(){var n=this,e=[this.content_id];this.ifOperation&&(e=[],this.multipleSelection.forEach(function(n){n.import&&e.push(n.id)})),e&&l.a.list.ipt(e).then(function(){n.content_id="",n.getData(),n.ifOperation=!1})}}},c={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"control-group"},[t("el-form",{attrs:{inline:!0,model:n.classListQueryFrm}},[t("el-form-item",{attrs:{label:"标题"}},[t("el-input",{attrs:{placeholder:"标题"},model:{value:n.classListQueryFrm.title,callback:function(e){n.$set(n.classListQueryFrm,"title",e)},expression:"classListQueryFrm.title"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"来源"}},[t("el-input",{attrs:{placeholder:"来源"},model:{value:n.classListQueryFrm.source,callback:function(e){n.$set(n.classListQueryFrm,"source",e)},expression:"classListQueryFrm.source"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"形式"}},[t("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:n.classListQueryFrm.type,callback:function(e){n.$set(n.classListQueryFrm,"type",e)},expression:"classListQueryFrm.type"}},n._l(n.typeOptions,function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),t("el-form-item",{attrs:{label:"分类"}},[t("el-select",{attrs:{placeholder:"全部",clearable:""},model:{value:n.classListQueryFrm.class,callback:function(e){n.$set(n.classListQueryFrm,"class",e)},expression:"classListQueryFrm.class"}},n._l(n.classOptions,function(n){return t("el-option",{key:n.id,attrs:{label:n.label,value:n.id}})}))],1),n._v(" "),t("el-form-item",{attrs:{label:"活动时间"}},[t("el-date-picker",{attrs:{editable:!1,type:"datetimerange","picker-options":n.pickerOptions,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd HH:mm:ss",align:"right"},model:{value:n.classListQueryFrm.time,callback:function(e){n.$set(n.classListQueryFrm,"time",e)},expression:"classListQueryFrm.time"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:n.searchGameList}},[n._v("查询")])],1)],1)],1),n._v(" "),t("div",{staticClass:"control-group"},[t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:n.importArticle}},[n._v("导入")])],1)],1)],1),n._v(" "),t("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.tabLoading,expression:"tabLoading"}],attrs:{tableData:n.tableData,tableOptions:n.tableOptions,total:n.totalCount,ifmultipleSelection:!0},on:{handleSelectionChange:n.handleSelectionChange,action:n.actionHandler,"size-change":n.sizeChangeHandler,"page-change":n.pageChangeHandler},model:{value:n.pageIndex,callback:function(e){n.pageIndex=e},expression:"pageIndex"}})],1)},staticRenderFns:[]};var p=t("VU/8")(o,c,!1,function(n){t("8/Dh")},"data-v-402bcaf8",null);e.default=p.exports}});