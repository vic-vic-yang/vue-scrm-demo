webpackJsonp([120],{"6SZ5":function(e,a,t){var n=t("V6pI");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("12df6e4c",n,!0)},AF9X:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Dd8w"),i=t.n(n),l=t("//Fk"),o=t.n(l),s=t("YK4W"),r=t("afCy"),c=t("LHg1"),d=t("2iym"),p=t("0xDb"),u={name:"teamDetail",components:{customElTable:s.a,userDetailModal:c.a,DetailCard:r.a},data:function(){return{teamId:this.$route.params.id,teamDetail:{},tableOptions:[{label:"编号",prop:"userId",width:80},{label:"用户名",prop:"userName"},{label:"代表团队参赛",prop:"playCount"},{label:"为团队得分",prop:"score"},{label:"加入时间",prop:"createTime",sortable:!0,width:105,className:"ph-6"},{prop:"USER_ACTION",actions:[{label:"查看详情",type:"detail"},"del"]}],tableData:[],pageIndex:1,pageSize:20,totalCount:0,tabLoading:!0,pageLoading:!0,userDetailInfo:{},userDetailDialog:!1}},created:function(){var e=this;o.a.all([d.a.team.detail(this.teamId),this.getMembersData()]).then(function(a){e.teamDetail=a[0],e.pageLoading=!1}).catch(function(){e.pageLoading=!1})},methods:{getMembersData:function(){var e=this;return this.tabLoading=!0,d.a.team.member(this.teamId,{pageIndex:this.pageIndex,pageSize:this.pageSize}).then(function(a){return e.tableData=(a.result||[]).map(function(e){return i()({},e,{createTime:Object(p.c)(e.createTime)})}),e.totalCount=1*a.totalCount,e.tabLoading=!1,a}).catch(function(a){return e.tabLoading=!1,o.a.reject(a)})},actionHandler:function(e,a){"detail"===e&&(this.userDetailInfo=a,this.userDetailDialog=!0)},sizeChangeHandler:function(e){this.pageSize=e,this.pageIndex=1,this.getMembersData()},pageChangeHandler:function(e){this.pageIndex=e,this.getMembersData()},deleteMemberHandler:function(e){var a=this;this.$confirm("确认删除团队成员 <b>"+e.userName+"</b> 吗？","删除",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d.a.team.delMember(a.teamId,e).then(function(){a.getMembersData()})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"app-container"},[t("detail-card",{attrs:{title:e.teamDetail.teamName}},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"item-detail-content"},[t("p",[e._v("创建时间 : "+e._s(e._f("parseTime")(e.teamDetail.createTime)))])])]),e._v(" "),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"item-detail-content"},[t("p",[e._v("团队积分 : "+e._s(e.teamDetail.teamScore))])])]),e._v(" "),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"item-detail-content"},[t("p",[e._v("参加比赛 : "+e._s(e.teamDetail.matchName))])])])],1)],1),e._v(" "),t("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tabLoading,expression:"tabLoading"}],attrs:{tableData:e.tableData,tableOptions:e.tableOptions,total:e.totalCount},on:{delete:e.deleteMemberHandler,action:e.actionHandler,"size-change":e.sizeChangeHandler,"page-change":e.pageChangeHandler},model:{value:e.pageIndex,callback:function(a){e.pageIndex=a},expression:"pageIndex"}}),e._v(" "),t("user-detail-modal",{attrs:{detail:e.userDetailInfo,show:e.userDetailDialog},on:{"update:show":function(a){e.userDetailDialog=a}}})],1)},staticRenderFns:[]};var g=t("VU/8")(u,m,!1,function(e){t("6SZ5")},"data-v-290863f1",null);a.default=g.exports},V6pI:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"",""])}});