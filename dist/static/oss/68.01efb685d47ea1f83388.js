webpackJsonp([68],{"4obp":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.work-btn[data-v-e4e91d42]{\r\n  width: 50%;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  margin: 0 auto;\r\n  -webkit-box-pack: justify;\r\n      -ms-flex-pack: justify;\r\n          justify-content: space-between;\n}\r\n",""])},"8A+A":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YK4W"),i=a("yaPy"),o=a("0xDb"),l={name:"contentRole",components:{customElTable:n.a},data:function(){return{stateOptions:[{value:1,label:"全部"},{value:2,label:"已启用"},{value:3,label:"已禁用"}],tableOptions:[{label:"序号",prop:"id",width:120},{label:"角色名称",prop:"role_name"},{label:"创建时间",prop:"create_time",sortable:!0,width:210,className:"ph-6"},{prop:"USER_ACTION",actions:[{type:"editor",options:this.getTaskEditBtnInfo,disableds:this.ifDisabled},{type:"delete",options:this.getTaskDelBtnInfo,disableds:this.ifDisabled}]}],tableData:[],pageIndex:1,pageSize:20,totalCount:0,tabLoading:!0}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.tabLoading=!0,i.a.role.list({pageIndex:this.pageIndex,pageSize:this.pageSize}).then(function(t){(t.result||[]).map(function(e){e.create_time=1*e.create_time>0?Object(o.c)(e.create_time):"--"}),e.tableData=t.result,e.totalCount=1*t.totalCount,e.tabLoading=!1}).catch(function(){e.tabLoading=!1})},createRole:function(){this.$router.push({name:"contentAddRole"})},ifDisabled:function(e){return!e||e.is_super-0==1},getTaskEditBtnInfo:function(){return{btn:"primary",label:"编辑"}},getTaskDelBtnInfo:function(){return{btn:"danger",label:"删除"}},editHandler:function(e){this.$router.push({name:"contentEditorRole",params:{id:e.id}})},deleteHandler:function(e){var t=this;this.$confirm("确认删除角色 <b>"+e.role_name+"</b> 吗？","删除",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.role.del(e.id).then(function(){t.getData()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},sizeChangeHandler:function(e){this.pageSize=e,this.pageIndex=1,this.getData()},pageChangeHandler:function(e){this.pageIndex=e,this.getData()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"control-group"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.createRole}},[a("i",{staticClass:"fs-13 el-icon-plus mr-5"}),e._v("新建角色\n        ")])],1)],1)],1),e._v(" "),a("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tabLoading,expression:"tabLoading"}],attrs:{tableData:e.tableData,tableOptions:e.tableOptions,total:e.totalCount},on:{edit:e.editHandler,delete:e.deleteHandler,"size-change":e.sizeChangeHandler,"page-change":e.pageChangeHandler},model:{value:e.pageIndex,callback:function(t){e.pageIndex=t},expression:"pageIndex"}})],1)},staticRenderFns:[]};var r=a("VU/8")(l,s,!1,function(e){a("ybdG")},"data-v-e4e91d42",null);t.default=r.exports},ybdG:function(e,t,a){var n=a("4obp");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("855ae3d0",n,!0)}});