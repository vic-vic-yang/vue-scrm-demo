webpackJsonp([23],{"I+ry":function(e,n,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},TdZj:function(e,n,t){var a=t("I+ry");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("bf0431c4",a,!0)},YTQP:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("woOf"),o=t.n(a),r=t("Z0Wq"),l={name:"codeEditor",components:{},data:function(){return{codeId:this.$route.params.id,action:this.$route.params.id?"modify":"add",codeSegmentFrm:{name:"",totalCount:"",remark:"",status:0,enabledTime:""},statusOptions:[{label:"停用",value:0},{label:"启用",value:1},{label:"定时启用",value:2}],frmRules:{name:[{required:!0,message:"名称必填"}],totalCount:[{required:!0,message:"申请数量必填"}],enabledTime:[{required:!0,message:"定时开启时间必填"}]}}},created:function(){this.codeId&&this.getData()},methods:{getData:function(){var e=this;r.a.get(this.codeId).then(function(n){e.codeSegmentFrm={name:n.name,totalCount:n.total_count,remark:n.remark,status:n.enabled_time&&1*n.status!=0?2:n.status,enabledTime:1e3*n.enabled_time}})},save:function(){var e=this;this.$refs.codeSegmentFrm.validate(function(n){if(n){var t=o()({},e.codeSegmentFrm);2===t.status&&(t.enabledTime=t.enabledTime/1e3),"modify"===e.action&&(t.id=e.codeId),("modify"===e.action?r.a.edit(t):r.a.add(t)).then(function(){e.$router.back()})}})}}},m={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"codeSegmentFrm",staticClass:"code-add__frm",attrs:{model:e.codeSegmentFrm,rules:e.frmRules,"label-width":"80px"}},[t("el-form-item",{attrs:{prop:"name",label:"码段名称"}},[t("el-input",{attrs:{name:"name",clearable:!0,placeholder:"请输入码段名称"},model:{value:e.codeSegmentFrm.name,callback:function(n){e.$set(e.codeSegmentFrm,"name",n)},expression:"codeSegmentFrm.name"}})],1),e._v(" "),"add"===e.action?t("el-form-item",{attrs:{prop:"totalCount",label:"申请数量"}},[t("el-input-number",{attrs:{min:1,name:"totalCount",placeholder:"申请数量"},model:{value:e.codeSegmentFrm.totalCount,callback:function(n){e.$set(e.codeSegmentFrm,"totalCount",n)},expression:"codeSegmentFrm.totalCount"}})],1):e._e(),e._v(" "),t("el-form-item",{attrs:{prop:"remark",label:"备注说明"}},[t("el-input",{attrs:{type:"textarea",rows:2,name:"remark",placeholder:"请输入备注说明"},model:{value:e.codeSegmentFrm.remark,callback:function(n){e.$set(e.codeSegmentFrm,"remark",n)},expression:"codeSegmentFrm.remark"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"status",label:"启用码段"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.codeSegmentFrm.status,callback:function(n){e.$set(e.codeSegmentFrm,"status",n)},expression:"codeSegmentFrm.status"}},e._l(e.statusOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),2===e.codeSegmentFrm.status?t("el-form-item",{attrs:{prop:"enabledTime",label:"定时启用"}},[t("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间",editable:!1,"default-time":"12:00:00"},model:{value:e.codeSegmentFrm.enabledTime,callback:function(n){e.$set(e.codeSegmentFrm,"enabledTime",n)},expression:"codeSegmentFrm.enabledTime"}})],1):e._e(),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.save(n)}}},[e._v("保存")]),e._v(" "),t("el-button",{on:{click:function(n){e.$router.back()}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var s=t("VU/8")(l,m,!1,function(e){t("TdZj")},"data-v-37d65939",null);n.default=s.exports}});