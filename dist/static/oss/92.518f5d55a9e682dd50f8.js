webpackJsonp([92],{"+hBL":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("Dd8w"),a=t.n(r),o=t("YK4W"),i=t("gyMJ"),s=function(n){return i.a.get("/integral/v1/order/order",{params:n}).then(function(n){return n.data})},l=t("0xDb"),c=t("M4fF"),d=t.n(c),p={name:"orderList",components:{customElTable:o.a},data:function(){return{orderQueryFrm:{search_type:1,card_number:"",phone:"",user_name:"",goods_name:"",time:[]},tableOptions:[{label:"序号",prop:"id",width:100},{label:"商品",prop:"goods",options:{type:"html"}},{label:"单价/数量",prop:"price_num"},{label:"兑换积分",prop:"pay_price"},{label:"兑换时间",prop:"create_time",sortable:!0,width:200,className:"ph-6"},{label:"买家信息",prop:"user_info",options:{type:"html"}}],tableData:[],pageIndex:1,pageSize:20,totalCount:0,tabLoading:!0,conditionType:"order_number",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-6048e5),n.$emit("pick",[t,e])}},{text:"最近一个月",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-2592e6),n.$emit("pick",[t,e])}},{text:"最近三个月",onClick:function(n){var e=new Date,t=new Date;t.setTime(t.getTime()-7776e6),n.$emit("pick",[t,e])}}]},query:null}},created:function(){this.getData()},methods:{getData:function(){var n=this,e=this.query||{};this.tabLoading=!0,s(a()({page_index:this.pageIndex,page_size:this.pageSize},e)).then(function(e){n.tableData=(e.result||[]).map(function(n){return a()({},n,{goods:'<div class="goods-info" style="display: flex;justify-content: flex-start;align-items: center;">\n                  <div class="img"><img width="96px" height="80px" src="'+n.goods_info.pic[0].file_path+'" alt=""/></div>\n                  <div class="content" style="margin-left: 30px; text-align: left;display: flex;flex-direction: column;justify-content: space-between;">\n                    <p>订单号：'+(n.card_info.card_number||"")+"</p>\n                    <p>"+(n.goods_info.name||"")+"</p>\n                  </div>\n                <div>",price_num:n.order_goods_info.integral+" / "+n.order_goods_info.num,pay_price:n.integral,create_time:""===n.create_time||1*n.create_time==0?"--":Object(l.c)(n.create_time),user_info:n.user_name||n.nick_name})}),n.totalCount=1*e.totalCount,n.tabLoading=!1}).catch(function(e){n.$message({type:"info",message:e.message})}),setTimeout(function(){n.tabLoading=!1},1500)},searchOrderList:function(){this.query=d.a.cloneDeep(this.orderQueryFrm);var n=this.query.time||[];this.$set(this.query,"order_start_time",n[0]||""),this.$set(this.query,"order_end_time",n[1]||""),this.$delete(this.query,"time"),this.pageIndex=1,this.getData()},sizeChangeHandler:function(n){this.pageSize=n,this.pageIndex=1,this.getData()},pageChangeHandler:function(n){this.pageIndex=n,this.getData()},resetForm:function(n){this.$refs[n].resetFields()}}},m={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container order-list"},[t("div",{staticClass:"control-group"},[t("el-form",{ref:"orderQueryFrm",attrs:{inline:!0,model:n.orderQueryFrm}},[t("el-form-item",{attrs:{prop:"card_number",label:"兑换编码"}},[t("el-input",{attrs:{placeholder:"兑换编码"},model:{value:n.orderQueryFrm.card_number,callback:function(e){n.$set(n.orderQueryFrm,"card_number",e)},expression:"orderQueryFrm.card_number"}})],1),n._v(" "),t("el-form-item",{attrs:{prop:"phone",label:"手机号码"}},[t("el-input",{attrs:{placeholder:"手机号码"},model:{value:n.orderQueryFrm.phone,callback:function(e){n.$set(n.orderQueryFrm,"phone",e)},expression:"orderQueryFrm.phone"}})],1),n._v(" "),t("el-form-item",{attrs:{prop:"user_name",label:"用户名"}},[t("el-input",{attrs:{placeholder:"用户名"},model:{value:n.orderQueryFrm.user_name,callback:function(e){n.$set(n.orderQueryFrm,"user_name",e)},expression:"orderQueryFrm.user_name"}})],1),n._v(" "),t("el-form-item",{attrs:{prop:"goods_name",label:"商品名称"}},[t("el-input",{attrs:{placeholder:"商品名称"},model:{value:n.orderQueryFrm.goods_name,callback:function(e){n.$set(n.orderQueryFrm,"goods_name",e)},expression:"orderQueryFrm.goods_name"}})],1),n._v(" "),t("el-form-item",{attrs:{prop:"time",label:"兑换时间"}},[t("el-date-picker",{attrs:{editable:!1,type:"datetimerange","picker-options":n.pickerOptions,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd HH:mm:ss",align:"right"},model:{value:n.orderQueryFrm.time,callback:function(e){n.$set(n.orderQueryFrm,"time",e)},expression:"orderQueryFrm.time"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:n.searchOrderList}},[n._v("查询")]),n._v(" "),t("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){n.resetForm("orderQueryFrm")}}},[n._v("重置")])],1)],1)],1),n._v(" "),t("custom-el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.tabLoading,expression:"tabLoading"}],attrs:{tableData:n.tableData,tableOptions:n.tableOptions,total:n.totalCount},on:{"size-change":n.sizeChangeHandler,"page-change":n.pageChangeHandler},model:{value:n.pageIndex,callback:function(e){n.pageIndex=e},expression:"pageIndex"}})],1)},staticRenderFns:[]};var u=t("VU/8")(p,m,!1,function(n){t("zT9D")},"data-v-6686b27a",null);e.default=u.exports},ltZt:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},zT9D:function(n,e,t){var r=t("ltZt");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);t("rjj0")("727ca40f",r,!0)}});