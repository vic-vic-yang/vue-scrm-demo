webpackJsonp([40],{"+EJe":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"96JD":function(n,t,e){"use strict";var i=e("M4fF"),a=e.n(i),o=e("DAYN"),r=e.n(o),c=e("QbVN"),s={name:"uploadCommodityPic",model:{prop:"pic",event:"change"},props:{pic:{type:Array,default:function(){return[]}}},components:{draggable:r.a,uploadPrizeAvatar:c.a},data:function(){return{picLists:this.pic||[]}},watch:{picLists:{immediate:!0,deep:!0,handler:function(n){n&&(this.findUploadPosition(n)<0&&n.length<15&&this.picLists.push({id:"",file_path:""}),this.$emit("change",this.getPicData(n)))}}},methods:{findUploadPosition:function(n){return a.a.findIndex(n,function(n){return!n.id&&!n.file_path})},getPicData:function(n){return n=a.a.cloneDeep(n),a.a.filter(n,function(n){return n.id&&n.file_path})},delHandler:function(n){this.picLists.splice(n,1)}}},l={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("draggable",{staticClass:"dragArea",attrs:{list:n.picLists,options:{group:"article"}}},n._l(n.picLists,function(t,i){return e("upload-prize-avatar",{key:i+"_"+t.id,staticClass:"commodity-pic",attrs:{disabled:!0,showDelImage:!0,"image-id":t.id},on:{"update:imageId":function(e){n.$set(t,"id",e)},del:function(t){n.delHandler(i)}},model:{value:t.file_path,callback:function(e){n.$set(t,"file_path",e)},expression:"pic.file_path"}})}))],1)},staticRenderFns:[]};var p=e("VU/8")(s,l,!1,function(n){e("9I6B"),e("xOlk")},"data-v-a7148aa0",null);t.a=p.exports},"9I6B":function(n,t,e){var i=e("aQlL");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("ff8f00c8",i,!0)},"B0+A":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.commodity-pic .single-image__uploader .el-upload{\n  width: 126px;\n  height: 126px;\n}\n",""])},Mku4:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("woOf"),a=e.n(i),o=e("96JD"),r=e("50QE"),c=e("M4fF"),s=e.n(c),l={name:"highlightCover",components:{uploadCommodityPic:o.a},data:function(){return{coverFrm:{key:"LIVE_SHOW",pic:[]},pageLoading:!0,frmRules:{pic:[{required:!1,message:"请上传封面"}]}}},created:function(){this.getData()},methods:{getData:function(){var n=this;this.pageLoading=!0,r.a.operation({key:this.coverFrm.key}).then(function(t){n.coverFrm=s.a.assign({},n.coverFrm,t.data),n.pageLoading=!1})},save:function(){var n=this;this.$refs.coverFrm.validate(function(t){if(t){var e=a()({},n.coverFrm);e.pic=e.pic.map(function(n){return n.id}).join(","),r.a.operation_edit({pic:e.pic,key:e.key}).then(function(){n.$router.back()})}})}}},p={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:n.pageLoading,expression:"pageLoading"}],staticClass:"app-container"},[e("el-form",{ref:"coverFrm",staticClass:"activity-edit__form",attrs:{model:n.coverFrm,rules:n.frmRules,"label-width":"120px"}},[e("el-form-item",{attrs:{prop:"pic",label:"活动集锦封面"}},[n.pageLoading?n._e():e("upload-commodity-pic",{model:{value:n.coverFrm.pic,callback:function(t){n.$set(n.coverFrm,"pic",t)},expression:"coverFrm.pic"}}),n._v(" "),e("small",{staticClass:"text-999"},[n._v("建议尺寸：800*760像素，你可以拖拽图片调整顺序，最多上传15张")])],1),n._v(" "),e("el-form-item",[e("el-button",{on:{click:function(t){t.preventDefault(),t.stopPropagation(),n.$router.back()}}},[n._v("取消")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),n.save(t)}}},[n._v("保存")])],1)],1)],1)},staticRenderFns:[]};var d=e("VU/8")(l,p,!1,function(n){e("l0vt")},"data-v-55137a64",null);t.default=d.exports},aQlL:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.commodity-pic[data-v-a7148aa0]{\n  display: inline-block;\n  margin: 6px 4px;\n  width: auto;\n}\n",""])},l0vt:function(n,t,e){var i=e("+EJe");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("56c73239",i,!0)},xOlk:function(n,t,e){var i=e("B0+A");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("063db862",i,!0)}});