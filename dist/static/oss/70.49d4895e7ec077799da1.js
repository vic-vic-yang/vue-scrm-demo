webpackJsonp([70],{QO9H:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("gyMJ"),a=function(){return r.a.get("/v1/quiz/global-configs").then(function(e){return e.data})},n=function(e){return r.a.post("/v1/quiz/global-configs",e,{autoShowMessage:!0})},l=function(e){return r.a.put("/v1/quiz/global-configs/"+e.id,e,{autoShowMessage:!0})},i={name:"groupEditor",components:{imageUpload:o("g6WS").a},data:function(){return{action:!1,groupFrm:{share_desc:"",share_img:"",logo:"",main_color:"",start_color:"",mission_color:"",study_font_color:"",index_foot_img:"",index_back_img:"",mission_back_img:"",record_img:"",ranking_img:"",reward_img:"",auth_back:"",auth_title:"",auth_desc:""},frmRules:{share_desc:[{required:!0,message:"请输入分享文案"}],share_img:[{required:!0,message:"请上传分享配图"}]}}},created:function(){this.getData()},methods:{getData:function(){var e=this;a().then(function(t){t.id&&(e.action=!0),e.groupFrm=t})},deleteImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"share_img";this.groupFrm[e]=""},save:function(){var e=this;this.$refs.groupFrm.validate(function(t){t&&(e.action?l(e.groupFrm):n(e.groupFrm)).then(function(){e.$router.back()})})}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-form",{ref:"groupFrm",staticClass:"mt-20",attrs:{model:e.groupFrm,rules:e.frmRules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"主色调"}},[o("el-color-picker",{attrs:{size:"small"},model:{value:e.groupFrm.main_color,callback:function(t){e.$set(e.groupFrm,"main_color",t)},expression:"groupFrm.main_color"}})],1),e._v(" "),e._e(),e._v(" "),o("el-form-item",{attrs:{prop:"share_desc",label:"分享文案"}},[o("el-input",{attrs:{type:"textarea",rows:"5",name:"share_desc",maxLength:100,clearable:!0,placeholder:"请输入分享文案"},model:{value:e.groupFrm.share_desc,callback:function(t){e.$set(e.groupFrm,"share_desc",t)},expression:"groupFrm.share_desc"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"share_img",label:"分享配图"}},[o("image-upload",{model:{value:e.groupFrm.share_img,callback:function(t){e.$set(e.groupFrm,"share_img",t)},expression:"groupFrm.share_img"}}),e._v(" "),e.groupFrm.share_img?o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.deleteImg()}}},[e._v("删除图片")]):e._e(),e._v(" "),o("small",{staticStyle:{color:"#999",display:"block"}},[e._v("支持PNG及JPG。显示图片长宽比是 5:4。")])],1),e._v(" "),o("el-form-item",{attrs:{label:"logo"}},[o("image-upload",{model:{value:e.groupFrm.logo,callback:function(t){e.$set(e.groupFrm,"logo",t)},expression:"groupFrm.logo"}}),e._v(" "),e.groupFrm.logo?o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.deleteImg("logo")}}},[e._v("删除图片")]):e._e()],1),e._v(" "),o("el-form-item",{attrs:{label:"首页底部配图"}},[o("image-upload",{model:{value:e.groupFrm.index_foot_img,callback:function(t){e.$set(e.groupFrm,"index_foot_img",t)},expression:"groupFrm.index_foot_img"}}),e._v(" "),e.groupFrm.index_foot_img?o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.deleteImg("index_foot_img")}}},[e._v("删除图片")]):e._e()],1),e._v(" "),o("el-form-item",{attrs:{label:"授权页背景图"}},[o("image-upload",{model:{value:e.groupFrm.auth_back,callback:function(t){e.$set(e.groupFrm,"auth_back",t)},expression:"groupFrm.auth_back"}}),e._v(" "),e.groupFrm.auth_back?o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.deleteImg("auth_back")}}},[e._v("删除图片")]):e._e()],1),e._v(" "),o("el-form-item",{attrs:{prop:"auth_title",label:"授权页标题"}},[o("el-input",{attrs:{type:"text",name:"auth_title",maxLength:100,clearable:!0,placeholder:"请输入授权页标题"},model:{value:e.groupFrm.auth_title,callback:function(t){e.$set(e.groupFrm,"auth_title",t)},expression:"groupFrm.auth_title"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"auth_desc",label:"授权页简介"}},[o("el-input",{attrs:{type:"text",name:"auth_desc",maxLength:100,clearable:!0,placeholder:"请输入授权页简介"},model:{value:e.groupFrm.auth_desc,callback:function(t){e.$set(e.groupFrm,"auth_desc",t)},expression:"groupFrm.auth_desc"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.save(t)}}},[e._v("保存")]),e._v(" "),o("el-button",{on:{click:function(t){e.$router.back()}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(i,s,!1,function(e){o("s9zn")},"data-v-e0ebc134",null);t.default=c.exports},k5mp:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.label-clone[data-v-e0ebc134] {\n  text-align: left;\n  margin-left: 120px;\n  font-size: 13px;\n  line-height: 36px;\n  color: #606266;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.flex-column[data-v-e0ebc134] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.color-picker-container[data-v-e0ebc134] {\n  padding-left: 70px;\n}\n.label-clone[data-v-e0ebc134] {\n  text-align: left;\n  font-size: 13px;\n  line-height: 36px;\n  color: #606266;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n",""])},s9zn:function(e,t,o){var r=o("k5mp");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("rjj0")("2e33e55a",r,!0)}});