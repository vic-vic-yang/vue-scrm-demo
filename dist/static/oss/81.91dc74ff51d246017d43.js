webpackJsonp([81],{"1ENb":function(e,t,n){var i=n("K+no");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("73fe85ca",i,!0)},"K+no":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.item-detail-content[data-v-87b5fde8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: auto;\n}\n.item-detail-content span[data-v-87b5fde8] {\n    margin-top: 16px;\n}\n.item-detail-content p[data-v-87b5fde8] {\n    display: inline-block;\n    margin-right: 40px;\n    margin-bottom: 0;\n}\n.item-detail[data-v-87b5fde8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  height: auto;\n}\n.flex-box-autoFix[data-v-87b5fde8] {\n  overflow: hidden;\n}\n",""])},NnvB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("YK4W"),a=n("z2KI"),l={name:"userMatchRecord",components:{customElTable:i.a},data:function(){return{pageLoading:!0,channesList:[],form:{publish_type:"1",classify_type:"1",channel_id:[]}}},computed:{classify_type_dis:function(){return"2"!==this.form.publish_type},channel_id_dis:function(){return"1"!==this.form.classify_type||"2"!==this.form.publish_type}},created:function(){var e=this;a.a.detail({gather_id:this.$route.params.id}).then(function(t){e.form.publish_type=t.publish_type,e.form.classify_type=t.classify_type,"0"!==t.channel_id&&t.channel_id&&(e.form.channel_id=t.channel_id.split(",")),e.pageLoading=!1,e.$nextTick(function(){a.a.getChannels({pageIndex:1,pageSize:20}).then(function(t){e.channesList=t.result})})})},methods:{onSubmit:function(){var e=this,t=void 0,n=void 0;if(t=this.classify_type_dis?"":this.form.classify_type,this.channel_id_dis)n="";else{if(!this.form.channel_id.length)return void this.$message({type:"error",message:"请选择频道!"});n=this.form.channel_id.join()}a.a.update({gather_id:this.$route.params.id,publish_type:this.form.publish_type,classify_type:t,channel_id:n}).then(function(t){t.success?(e.$message({type:"success",message:"修改成功!"}),e.$router.push("/contentPlatform/subscribe/index")):e.$message({type:"error",message:"修改失败!"})})},cancel:function(){this.$router.push("/contentPlatform/subscribe/index")}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"app-container"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"发布模式"}},[n("el-select",{attrs:{placeholder:"请选择发布模式"},model:{value:e.form.publish_type,callback:function(t){e.$set(e.form,"publish_type",t)},expression:"form.publish_type"}},[n("el-option",{attrs:{label:"自动",value:"2"}}),e._v(" "),n("el-option",{attrs:{label:"手动",value:"1"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"是否需要分类"}},[n("el-select",{attrs:{disabled:e.classify_type_dis,placeholder:"请选择分类"},model:{value:e.form.classify_type,callback:function(t){e.$set(e.form,"classify_type",t)},expression:"form.classify_type"}},[n("el-option",{attrs:{label:"是",value:"2"}}),e._v(" "),n("el-option",{attrs:{label:"否",value:"1"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"选择频道"}},[n("el-select",{attrs:{multiple:"",disabled:e.channel_id_dis,placeholder:"请选择频道"},model:{value:e.form.channel_id,callback:function(t){e.$set(e.form,"channel_id",t)},expression:"form.channel_id"}},e._l(e.channesList,function(e,t){return n("el-option",{key:t,attrs:{label:e.channel_name,value:e.id}})}))],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var o=n("VU/8")(l,s,!1,function(e){n("1ENb")},"data-v-87b5fde8",null);t.default=o.exports}});