webpackJsonp([29],{"1Rr7":function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},aF6D:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("yaPy"),r={name:"contentEditorRole",data:function(){return{action:this.$route.params.id?"modify":"add",arrData:[],groupFrm:{id:this.$route.params.id,title:"",rules:[]},funData:[],pageLoading:!0,defaultProps:{children:"children",label:"title"},frmRules:{title:[{required:!0,message:"请输入角色名称"}]}}},created:function(){var n=this;this.pageLoading=!0,"modify"===this.action&&this.getData(),a.a.role.nodes().then(function(e){n.funData=e.nodes,n.pageLoading=!1})},methods:{getData:function(){var n=this;a.a.role.get(this.$route.params.id).then(function(e){n.arrData=e.checked,n.groupFrm.title=e.role_name})},save:function(){var n=this,e=this.$refs.tree.getCheckedKeys(),t=[];e.length>0&&t.push("1"),e.length>=66?t=e:e.forEach(function(n){if(n.length>3){var e=n.substring(0,3);t.includes(e)||t.push(e)}if(n.length>5){var a=n.substring(0,5);t.includes(a)||t.push(a)}if(n.length>7){var r=n.substring(0,7);t.includes(r)||t.push(r)}t.includes(n)||t.push(n)});var r={id:this.groupFrm.id,role_name:this.groupFrm.title,real:t,fake:e};this.$refs.groupFrm.validate(function(e){e&&("modify"===n.action?a.a.role.edit(r):a.a.role.add(r)).then(function(){n.$router.back()})})}}},i={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:n.pageLoading,expression:"pageLoading"}],staticClass:"app-container"},[t("el-form",{ref:"groupFrm",staticClass:"code-add__frm",attrs:{model:n.groupFrm,rules:n.frmRules,"label-width":"80px"}},[t("el-form-item",{attrs:{prop:"title",label:"角色名称"}},[t("el-input",{attrs:{name:"title",clearable:!0,placeholder:"请输入角色名称"},model:{value:n.groupFrm.title,callback:function(e){n.$set(n.groupFrm,"title",e)},expression:"groupFrm.title"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"功能权限"}},[t("el-tree",{ref:"tree",attrs:{data:n.funData,"show-checkbox":"","node-key":"id","default-expand-all":"","default-checked-keys":n.arrData,props:n.defaultProps}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),n.save(e)}}},[n._v("保存")]),n._v(" "),t("el-button",{on:{click:function(e){n.$router.back()}}},[n._v("取消")])],1)],1)],1)},staticRenderFns:[]};var o=t("VU/8")(r,i,!1,function(n){t("ouGM")},"data-v-1af58e46",null);e.default=o.exports},ouGM:function(n,e,t){var a=t("1Rr7");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("60a75d76",a,!0)}});